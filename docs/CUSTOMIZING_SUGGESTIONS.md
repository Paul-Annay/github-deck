# Customizing Suggestions in GitHub Command Deck

This guide explains how to customize both initial starter questions and dynamic AI-generated suggestions.

## Initial Suggestions (Starter Questions)

Initial suggestions appear when the chat thread is empty. They're defined in `src/components/tambo/message-thread-full.tsx`.

### Current Configuration

```typescript
const defaultSuggestions: Suggestion[] = [
  {
    id: "suggestion-1",
    title: "Analyze React",
    detailedSuggestion: "Tell me about the Facebook React repo",
    messageId: "react-analysis",
  },
  {
    id: "suggestion-2",
    title: "Compare repos",
    detailedSuggestion: "Compare two GitHub repositories side by side",
    messageId: "compare-repos",
  },
  {
    id: "suggestion-3",
    title: "View PR activity",
    detailedSuggestion: "Show me recent pull requests and their status",
    messageId: "pr-activity",
  },
];
```

### How to Customize

1. Open `src/components/tambo/message-thread-full.tsx`
2. Locate the `defaultSuggestions` array
3. Modify the suggestions:
   - `id`: Unique identifier (keep unique)
   - `title`: Short button text (2-3 words)
   - `detailedSuggestion`: Full question sent to AI
   - `messageId`: Internal identifier

**Example:**
```typescript
{
  id: "suggestion-4",
  title: "Issue triage",
  detailedSuggestion: "Help me triage and prioritize open issues",
  messageId: "issue-triage",
}
```

## Dynamic Suggestions (AI-Generated Follow-ups)

Dynamic suggestions are automatically generated by Tambo after each AI response. These are contextual follow-up questions based on the conversation.

### How Dynamic Suggestions Work

1. After the AI responds, the `useTamboSuggestions` hook automatically generates 3 contextual follow-up questions
2. These suggestions are based on:
   - The current conversation context
   - Available tools and components
   - The AI's system instructions (SYSTEM_PROMPT.md)
   - Recent message content

### System Prompt Configuration

The quality and relevance of dynamic suggestions is controlled by the **system prompt** in `SYSTEM_PROMPT.md`. The system prompt includes a dedicated section on suggestion generation:

#### Key Principles from System Prompt

**GOOD Suggestions** (Actionable, Specific, Tactical):
- "Analyze commit patterns over last 6 months"
- "Compare this repo to similar projects"
- "Show contributor activity breakdown"
- "Scan for stale pull requests"
- "Generate release notes from recent PRs"

**BAD Suggestions** (Generic, Vague, Unhelpful):
- "Tell me more"
- "What else?"
- "Show me something interesting"

#### Suggestion Guidelines in System Prompt

1. **Action-Oriented**: Start with verbs (Analyze, Compare, Show, Scan, Generate)
2. **Specific**: Reference concrete data types (commits, PRs, issues, contributors)
3. **Contextual**: Build on current conversation
4. **Tactical Language**: Use command-deck terminology
5. **Next Logical Step**: Guide users through natural workflow

#### Contextual Patterns

The system prompt defines suggestion patterns based on context:

**After Repository Analysis**:
- "Show pull request activity"
- "Analyze contributor patterns"
- "Compare with similar repositories"

**After Showing PRs**:
- "Show diff for PR #[recent-number]"
- "Analyze PR merge velocity"
- "Generate release notes from merged PRs"

**After Showing Issues**:
- "Triage issues by priority"
- "Show issue resolution trends"

**After Comparison**:
- "Deep dive into [repo-name]"
- "Compare contributor activity"

### Customizing Dynamic Suggestion Behavior

#### Option 1: Modify System Prompt (Recommended)

Edit `SYSTEM_PROMPT.md` to change suggestion behavior:

1. Locate the "GENERATING FOLLOW-UP SUGGESTIONS" section
2. Modify the suggestion principles and patterns
3. Add domain-specific examples
4. Update contextual patterns for your use case

**Example Addition**:
```markdown
**After Showing Releases**:
- "Generate changelog from recent releases"
- "Compare release velocity over time"
- "Analyze breaking changes in releases"
```

#### Option 2: Configure via Tambo Dashboard

The system prompt can also be configured through your [Tambo project settings](https://tambo.co/projects):

1. Navigate to **Agent Configuration** → **Custom Instructions**
2. Paste the content from `SYSTEM_PROMPT.md`
3. Modify the suggestion generation section
4. Save changes

**Note**: Changes in Tambo dashboard override the local system prompt file.

### Controlling Suggestion Count

The number of suggestions is controlled by the `maxSuggestions` prop:

```typescript
<MessageSuggestions maxSuggestions={3}>
  <MessageSuggestionsList />
</MessageSuggestions>
```

Valid range: 1-10 suggestions (default: 3)

## Best Practices

### Initial Suggestions
- Keep titles short (2-4 words)
- Make them action-oriented
- Showcase your app's core capabilities
- Use one "hero" example (like the React repo analysis)
- Follow tactical language style ("Analyze React" not "Tell me about React")

### Dynamic Suggestions
- Configure system prompt to match your app's domain
- Use consistent terminology and tone (tactical, command-deck style)
- Focus on next logical steps in the workflow
- Avoid overly broad or generic suggestions
- Start with action verbs
- Keep under 8 words
- Use UPPERCASE for emphasis when appropriate

### Tactical Language Examples

**Good**:
- "ANALYZE COMMIT VELOCITY"
- "SCAN FOR STALE PRS"
- "COMPARE CONTRIBUTOR ACTIVITY"
- "GENERATE RELEASE NOTES"

**Bad**:
- "Can you show me more?"
- "What else is interesting?"
- "Tell me about the repository"

## Keyboard Shortcuts

Users can quickly select suggestions using:
- **Mac**: `⌘ + ⌥ + [1-3]`
- **Windows/Linux**: `Ctrl + Alt + [1-3]`

## Technical Details

### Component Hierarchy
```
MessageThreadFull
  └─ MessageSuggestions (with initialSuggestions prop)
      ├─ MessageSuggestionsStatus (loading/error states)
      └─ MessageSuggestionsList (renders buttons)
```

### Suggestion Flow
1. Thread empty → Show `initialSuggestions`
2. User sends message → AI responds
3. `useTamboSuggestions` hook generates contextual suggestions based on system prompt
4. Suggestions appear as clickable buttons
5. User clicks → Message sent → Cycle repeats

### State Management
- Initial suggestions: Defined in component
- Dynamic suggestions: Generated by Tambo API using system prompt
- Selection: Handled by `accept()` function from `useTamboSuggestions`

## Related Files

- `SYSTEM_PROMPT.md` - **PRIMARY**: Controls suggestion generation logic and patterns
- `src/components/tambo/message-thread-full.tsx` - Initial suggestions
- `src/components/tambo/message-suggestions.tsx` - Suggestion component logic
- `src/lib/tambo.ts` - Tool/component registration (affects AI context)
- Tambo Dashboard - Alternative system prompt configuration

## Troubleshooting

**Suggestions not appearing:**
- Check that `MessageSuggestions` component is rendered
- Verify `maxSuggestions` prop is set
- Check browser console for errors

**Poor quality suggestions:**
- Review and update `SYSTEM_PROMPT.md` suggestion section
- Ensure tool descriptions in `src/lib/tambo.ts` are clear
- Add more contextual patterns to system prompt
- Provide examples of good vs. bad suggestions

**Suggestions too generic:**
- Add domain-specific instructions to system prompt
- Include tactical language examples
- Specify the tone and terminology to use
- Add contextual suggestion patterns for different scenarios

**Suggestions don't match tactical tone:**
- Review "GENERATING FOLLOW-UP SUGGESTIONS" section in system prompt
- Add more tactical language examples
- Emphasize action-oriented, command-style phrasing
- Remove casual language patterns
